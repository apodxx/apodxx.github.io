---
layout: post
title: numpy基础8 排序和搜索
date: 2021-02-03
tag: 机器学习
---


```python
import numpy as np
```


```python
a = np.random.randn(8)
```


```python
a
```




    array([-1.28701238,  0.47545487,  0.38885538, -0.11321202,  1.0572066 ,
           -0.03475083, -0.55823089, -1.45963199])




```python
np.sort(a) #顶级方法不会对a造成影响
```




    array([-1.45963199, -1.28701238, -0.55823089, -0.11321202, -0.03475083,
            0.38885538,  0.47545487,  1.0572066 ])




```python
a.sort()
a
```




    array([-1.45963199, -1.28701238, -0.55823089, -0.11321202, -0.03475083,
            0.38885538,  0.47545487,  1.0572066 ])




```python
a 
```




    array([-1.45963199, -1.28701238, -0.55823089, -0.11321202, -0.03475083,
            0.38885538,  0.47545487,  1.0572066 ])




```python
a = np.random.randn(5,3)
a
```




    array([[-1.02242902, -0.91055949, -0.61792244],
           [-1.30866662,  0.10187388,  0.80160936],
           [-1.24109811, -0.09981455, -1.13206505],
           [-0.27392712, -1.3402328 , -0.61203125],
           [-0.8934099 , -0.14015087, -1.0491138 ]])




```python
a.sort(0)
a
```




    array([[-1.30866662, -1.3402328 , -1.13206505],
           [-1.24109811, -0.91055949, -1.0491138 ],
           [-1.02242902, -0.14015087, -0.61792244],
           [-0.8934099 , -0.09981455, -0.61203125],
           [-0.27392712,  0.10187388,  0.80160936]])




```python
a.sort(1)
a
```




    array([[-1.3402328 , -1.30866662, -1.13206505],
           [-1.24109811, -1.0491138 , -0.91055949],
           [-1.02242902, -0.61792244, -0.14015087],
           [-0.8934099 , -0.61203125, -0.09981455],
           [-0.27392712,  0.10187388,  0.80160936]])




```python
a = np.random.randn(1000)
```


```python
a.sort()
```


```python
a[int(0.05*len(a))]    #求0.05分位数
```




    -1.5782916736490633




```python
a = np.array([3,7,2,1,8,5])
```


```python
a.argsort()      #返回索引数组
```




    array([3, 2, 0, 5, 1, 4], dtype=int64)




```python
a[a.argsort()]
```




    array([1, 2, 3, 5, 7, 8])




```python
a.argmax()
```




    4




```python
a.argmin()
```




    3



numpy.where()  where()函数返回输入数组中满足给定条件的元素的索引。


```python
a
```




    array([3, 7, 2, 1, 8, 5])




```python
np.where(a>4)
```




    (array([1, 4, 5], dtype=int64),)




```python
a[np.where(a>4)]
```




    array([7, 8, 5])



np.where将条件逻辑表述为数组运算


```python
x = np.array([1,2,3,4,5])
y = np.array([10,20,30,40,50])
cond = np.array([True,False,True,True,False])
```


```python
[x if c else y for x,y,c in zip(x,y,cond)]    #使用列表推导式
```




    [1, 20, 3, 4, 50]




```python
rel = np.where(cond,x,y) #根据rel判断 True：x ，False：y
```


```python
rel
```




    array([ 1, 20,  3,  4, 50])




```python
rel = np.where(x%2 != 0,x,100)    #所有偶数改为100
```


```python
rel
```




    array([  1, 100,   3, 100,   5])




```python

```
